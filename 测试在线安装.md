# ğŸ§ª åœ¨çº¿å®‰è£…è„šæœ¬æµ‹è¯•æŒ‡å—

## ğŸ“‹ æµ‹è¯•æ¸…å•

### 1ï¸âƒ£ Linux/macOS åœ¨çº¿å®‰è£…æµ‹è¯•

#### åŸºæœ¬å®‰è£…æµ‹è¯•
```bash
# æµ‹è¯•åŸºæœ¬å®‰è£…å‘½ä»¤
curl -fsSL https://raw.githubusercontent.com/0green7hand0/AI-PowerShell/main/scripts/install.sh | bash

# æˆ–è€…ä¸‹è½½åæ‰§è¡Œ
wget https://raw.githubusercontent.com/0green7hand0/AI-PowerShell/main/scripts/install.sh
chmod +x install.sh
./install.sh
```

#### å‚æ•°æµ‹è¯•
```bash
# æµ‹è¯•å¸®åŠ©ä¿¡æ¯
curl -fsSL https://raw.githubusercontent.com/0green7hand0/AI-PowerShell/main/scripts/install.sh | bash -s -- --help

# æµ‹è¯•è·³è¿‡Dockerå®‰è£…
curl -fsSL https://raw.githubusercontent.com/0green7hand0/AI-PowerShell/main/scripts/install.sh | bash -s -- --no-docker

# æµ‹è¯•å¼€å‘ç‰ˆæœ¬å®‰è£…
curl -fsSL https://raw.githubusercontent.com/0green7hand0/AI-PowerShell/main/scripts/install.sh | bash -s -- --dev
```

### 2ï¸âƒ£ Windows PowerShell åœ¨çº¿å®‰è£…æµ‹è¯•

#### åŸºæœ¬å®‰è£…æµ‹è¯•
```powershell
# æµ‹è¯•åŸºæœ¬å®‰è£…å‘½ä»¤
Invoke-WebRequest -Uri "https://raw.githubusercontent.com/0green7hand0/AI-PowerShell/main/scripts/install.ps1" -OutFile "install.ps1"
.\install.ps1

# æˆ–è€…ç›´æ¥æ‰§è¡Œ
Invoke-Expression (Invoke-WebRequest -Uri "https://raw.githubusercontent.com/0green7hand0/AI-PowerShell/main/scripts/install.ps1" -UseBasicParsing).Content
```

#### å‚æ•°æµ‹è¯•
```powershell
# æµ‹è¯•å¸®åŠ©ä¿¡æ¯
.\install.ps1 -Help

# æµ‹è¯•è·³è¿‡Dockerå®‰è£…
.\install.ps1 -NoDocker

# æµ‹è¯•è‡ªå®šä¹‰å®‰è£…è·¯å¾„
.\install.ps1 -InstallPath "C:\Tools\PowerShellAssistant"

# æµ‹è¯•å¼€å‘ç‰ˆæœ¬å®‰è£…
.\install.ps1 -Dev
```

## ğŸ” æµ‹è¯•éªŒè¯æ­¥éª¤

### å®‰è£…å‰æ£€æŸ¥
```bash
# æ£€æŸ¥ç³»ç»Ÿç¯å¢ƒ
echo "æ“ä½œç³»ç»Ÿ: $(uname -a)"
echo "Pythonç‰ˆæœ¬: $(python3 --version 2>/dev/null || python --version 2>/dev/null || echo 'æœªå®‰è£…')"
echo "PowerShellç‰ˆæœ¬: $(pwsh --version 2>/dev/null || echo 'æœªå®‰è£…')"
echo "Gitç‰ˆæœ¬: $(git --version 2>/dev/null || echo 'æœªå®‰è£…')"
echo "Dockerç‰ˆæœ¬: $(docker --version 2>/dev/null || echo 'æœªå®‰è£…')"
```

### å®‰è£…è¿‡ç¨‹ç›‘æ§
```bash
# ç›‘æ§å®‰è£…æ—¥å¿—
tail -f /tmp/powershell-assistant-install.log &

# ç›‘æ§ç½‘ç»œè¿æ¥
netstat -an | grep :443  # HTTPSè¿æ¥
netstat -an | grep :80   # HTTPè¿æ¥
```

### å®‰è£…åéªŒè¯
```bash
# éªŒè¯å®‰è£…
powershell-assistant --version
powershell-assistant test
powershell-assistant --help

# éªŒè¯æ–‡ä»¶ç»“æ„
ls -la ~/.powershell-assistant/
ls -la ~/.powershell-assistant/venv/
ls -la ~/.powershell-assistant/config/

# éªŒè¯æœåŠ¡å¯åŠ¨
powershell-assistant start --test-mode
curl http://localhost:8000/health
```

## ğŸŒ ä¸åŒç¯å¢ƒæµ‹è¯•

### Ubuntu 20.04/22.04
```bash
# åœ¨Dockerä¸­æµ‹è¯•
docker run -it ubuntu:20.04 bash
apt update && apt install -y curl
curl -fsSL https://raw.githubusercontent.com/0green7hand0/AI-PowerShell/main/scripts/install.sh | bash
```

### CentOS/RHEL 8
```bash
# åœ¨Dockerä¸­æµ‹è¯•
docker run -it centos:8 bash
yum install -y curl
curl -fsSL https://raw.githubusercontent.com/0green7hand0/AI-PowerShell/main/scripts/install.sh | bash
```

### macOS (é€šè¿‡GitHub Actions)
```yaml
# .github/workflows/test-install.yml
name: Test Installation Scripts
on: [push, pull_request]
jobs:
  test-macos:
    runs-on: macos-latest
    steps:
      - uses: actions/checkout@v3
      - name: Test macOS installation
        run: |
          curl -fsSL https://raw.githubusercontent.com/0green7hand0/AI-PowerShell/main/scripts/install.sh | bash
          powershell-assistant --version
```

### Windows (å¤šç‰ˆæœ¬æµ‹è¯•)
```powershell
# Windows 10
# Windows 11
# Windows Server 2019/2022
# PowerShell 5.1
# PowerShell Core 7.x
```

## ğŸš¨ å¸¸è§é—®é¢˜æµ‹è¯•

### ç½‘ç»œé—®é¢˜æ¨¡æ‹Ÿ
```bash
# æ¨¡æ‹Ÿç½‘ç»œä¸­æ–­
sudo iptables -A OUTPUT -d github.com -j DROP
curl -fsSL https://raw.githubusercontent.com/0green7hand0/AI-PowerShell/main/scripts/install.sh | bash
sudo iptables -D OUTPUT -d github.com -j DROP

# æ¨¡æ‹ŸDNSé—®é¢˜
echo "127.0.0.1 github.com" | sudo tee -a /etc/hosts
curl -fsSL https://raw.githubusercontent.com/0green7hand0/AI-PowerShell/main/scripts/install.sh | bash
sudo sed -i '/127.0.0.1 github.com/d' /etc/hosts
```

### æƒé™é—®é¢˜æµ‹è¯•
```bash
# érootç”¨æˆ·æµ‹è¯•
useradd -m testuser
su - testuser
curl -fsSL https://raw.githubusercontent.com/0green7hand0/AI-PowerShell/main/scripts/install.sh | bash

# åªè¯»æ–‡ä»¶ç³»ç»Ÿæµ‹è¯•
mount -o remount,ro /tmp
curl -fsSL https://raw.githubusercontent.com/0green7hand0/AI-PowerShell/main/scripts/install.sh | bash
mount -o remount,rw /tmp
```

### ä¾èµ–å†²çªæµ‹è¯•
```bash
# Pythonç‰ˆæœ¬å†²çª
pyenv install 3.7.0
pyenv global 3.7.0
curl -fsSL https://raw.githubusercontent.com/0green7hand0/AI-PowerShell/main/scripts/install.sh | bash

# åŒ…ç®¡ç†å™¨å†²çª
# åŒæ—¶å®‰è£…å¤šä¸ªPythonåŒ…ç®¡ç†å™¨
pip install --user some-conflicting-package
curl -fsSL https://raw.githubusercontent.com/0green7hand0/AI-PowerShell/main/scripts/install.sh | bash
```

## ğŸ“Š æ€§èƒ½æµ‹è¯•

### å®‰è£…æ—¶é—´æµ‹è¯•
```bash
# è®°å½•å®‰è£…æ—¶é—´
time curl -fsSL https://raw.githubusercontent.com/0green7hand0/AI-PowerShell/main/scripts/install.sh | bash

# åˆ†é˜¶æ®µè®¡æ—¶
start_time=$(date +%s)
# ... å®‰è£…æ­¥éª¤ ...
end_time=$(date +%s)
echo "å®‰è£…è€—æ—¶: $((end_time - start_time)) ç§’"
```

### ç½‘ç»œå¸¦å®½æµ‹è¯•
```bash
# ç›‘æ§ä¸‹è½½é€Ÿåº¦
iftop -i eth0 &
curl -fsSL https://raw.githubusercontent.com/0green7hand0/AI-PowerShell/main/scripts/install.sh | bash
```

### ç£ç›˜ç©ºé—´æµ‹è¯•
```bash
# å®‰è£…å‰åç£ç›˜ä½¿ç”¨å¯¹æ¯”
df -h > before_install.txt
curl -fsSL https://raw.githubusercontent.com/0green7hand0/AI-PowerShell/main/scripts/install.sh | bash
df -h > after_install.txt
diff before_install.txt after_install.txt
```

## ğŸ”§ è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬

### åˆ›å»ºæµ‹è¯•å¥—ä»¶
```bash
#!/bin/bash
# test-installation.sh

echo "ğŸ§ª AI PowerShell Assistant å®‰è£…æµ‹è¯•å¥—ä»¶"
echo "========================================"

# æµ‹è¯•ç¯å¢ƒåˆ—è¡¨
environments=(
    "ubuntu:20.04"
    "ubuntu:22.04"
    "centos:8"
    "debian:11"
    "alpine:latest"
)

# å¯¹æ¯ä¸ªç¯å¢ƒè¿›è¡Œæµ‹è¯•
for env in "${environments[@]}"; do
    echo "æµ‹è¯•ç¯å¢ƒ: $env"
    
    docker run --rm -v $(pwd):/test $env bash -c "
        cd /test
        apt-get update -y || yum update -y || apk update
        apt-get install -y curl || yum install -y curl || apk add curl
        curl -fsSL https://raw.githubusercontent.com/0green7hand0/AI-PowerShell/main/scripts/install.sh | bash
        powershell-assistant --version
    "
    
    if [ $? -eq 0 ]; then
        echo "âœ… $env æµ‹è¯•é€šè¿‡"
    else
        echo "âŒ $env æµ‹è¯•å¤±è´¥"
    fi
done
```

### Windows æµ‹è¯•è„šæœ¬
```powershell
# test-installation.ps1

Write-Host "ğŸ§ª AI PowerShell Assistant Windows å®‰è£…æµ‹è¯•" -ForegroundColor Blue
Write-Host "=============================================="

$TestResults = @()

# æµ‹è¯•ä¸åŒPowerShellç‰ˆæœ¬
$PowerShellVersions = @(
    @{Name="PowerShell 5.1"; Command="powershell.exe"}
    @{Name="PowerShell Core"; Command="pwsh.exe"}
)

foreach ($ps in $PowerShellVersions) {
    Write-Host "æµ‹è¯• $($ps.Name)..." -ForegroundColor Yellow
    
    try {
        & $ps.Command -Command {
            Invoke-Expression (Invoke-WebRequest -Uri "https://raw.githubusercontent.com/0green7hand0/AI-PowerShell/main/scripts/install.ps1" -UseBasicParsing).Content
            powershell-assistant --version
        }
        
        $TestResults += @{
            Environment = $ps.Name
            Status = "é€šè¿‡"
            Color = "Green"
        }
    }
    catch {
        $TestResults += @{
            Environment = $ps.Name
            Status = "å¤±è´¥: $($_.Exception.Message)"
            Color = "Red"
        }
    }
}

# æ˜¾ç¤ºæµ‹è¯•ç»“æœ
Write-Host "`nğŸ“Š æµ‹è¯•ç»“æœæ±‡æ€»:" -ForegroundColor Blue
foreach ($result in $TestResults) {
    Write-Host "$($result.Environment): $($result.Status)" -ForegroundColor $result.Color
}
```

## ğŸ“ˆ ç›‘æ§å’ŒæŠ¥å‘Š

### å®‰è£…æˆåŠŸç‡ç»Ÿè®¡
```bash
# åˆ›å»ºå®‰è£…ç»Ÿè®¡è„šæœ¬
cat > install-stats.sh << 'EOF'
#!/bin/bash
LOG_FILE="/var/log/powershell-assistant-installs.log"

# è®°å½•å®‰è£…å°è¯•
echo "$(date): å®‰è£…å¼€å§‹ - IP: $REMOTE_ADDR, OS: $(uname -a)" >> $LOG_FILE

# æ‰§è¡Œå®‰è£…
if curl -fsSL https://raw.githubusercontent.com/0green7hand0/AI-PowerShell/main/scripts/install.sh | bash; then
    echo "$(date): å®‰è£…æˆåŠŸ" >> $LOG_FILE
    exit 0
else
    echo "$(date): å®‰è£…å¤±è´¥" >> $LOG_FILE
    exit 1
fi
EOF
```

### é”™è¯¯æ”¶é›†å’Œåˆ†æ
```bash
# æ”¶é›†å¸¸è§é”™è¯¯
grep "ERROR" /var/log/powershell-assistant-installs.log | sort | uniq -c | sort -nr

# åˆ†æå¤±è´¥åŸå› 
awk '/å®‰è£…å¤±è´¥/ {print $0}' /var/log/powershell-assistant-installs.log | tail -10
```

è¿™ä¸ªæµ‹è¯•æŒ‡å—å°†å¸®åŠ©æ‚¨å…¨é¢éªŒè¯åœ¨çº¿å®‰è£…è„šæœ¬çš„å¯é æ€§å’Œå…¼å®¹æ€§ï¼